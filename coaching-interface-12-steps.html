<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>12-Schritte KI-Coaching Interface</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .main-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }

        .session-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .session-info h1 {
            color: #4a5568;
            font-size: 24px;
        }

        .header-buttons {
            display: flex;
            gap: 10px;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
        }

        .btn-primary {
            background: #667eea;
            color: white;
        }

        .btn-primary:hover {
            background: #5a6fd8;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: #e2e8f0;
            color: #4a5568;
        }

        .btn-secondary:hover {
            background: #cbd5e0;
        }

        .progress-container {
            background: #f7fafc;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .progress-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            position: relative;
        }

        .progress-bar::before {
            content: '';
            position: absolute;
            top: 20px;
            left: 0;
            right: 0;
            height: 2px;
            background: #e2e8f0;
            z-index: 1;
        }

        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 2;
            cursor: pointer;
            transition: all 0.3s;
        }

        .step-circle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #e2e8f0;
            color: #a0aec0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-bottom: 8px;
            transition: all 0.3s;
        }

        .step.active .step-circle {
            background: #667eea;
            color: white;
        }

        .step.completed .step-circle {
            background: #48bb78;
            color: white;
        }

        .step-label {
            font-size: 12px;
            text-align: center;
            color: #4a5568;
            max-width: 100px;
        }

        .step-details {
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
        }

        .step-title {
            color: #2d3748;
            font-size: 20px;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .task-list {
            list-style: none;
            margin-bottom: 20px;
        }

        .task-item {
            display: flex;
            align-items: flex-start;
            padding: 10px 0;
            border-bottom: 1px solid #e2e8f0;
        }

        .task-item:last-child {
            border-bottom: none;
        }

        .task-checkbox {
            margin-right: 12px;
            margin-top: 2px;
        }

        .task-text {
            flex: 1;
            line-height: 1.5;
        }

        .task-item.completed .task-text {
            text-decoration: line-through;
            color: #a0aec0;
        }

        .chat-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .chat-panel {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            height: 500px;
        }

        .chat-header {
            padding: 15px 20px;
            border-bottom: 1px solid #e2e8f0;
            font-weight: 600;
            color: #2d3748;
        }

        .coaching-header {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .assistant-header {
            background: linear-gradient(135deg, #48bb78, #38a169);
            color: white;
        }

        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: #f7fafc;
        }

        .message {
            margin-bottom: 15px;
            padding: 12px 16px;
            border-radius: 12px;
            max-width: 85%;
        }

        .message.user {
            background: #667eea;
            color: white;
            margin-left: auto;
        }

        .message.ai {
            background: white;
            color: #2d3748;
            border: 1px solid #e2e8f0;
        }

        .chat-input-container {
            padding: 15px 20px;
            border-top: 1px solid #e2e8f0;
        }

        .chat-input {
            width: 100%;
            padding: 12px;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            font-size: 14px;
            resize: vertical;
            min-height: 40px;
        }

        .chat-input:focus {
            outline: none;
            border-color: #667eea;
        }

        .send-btn {
            margin-top: 10px;
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
        }

        .send-btn:hover {
            background: #5a6fd8;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
        }

        .suggestions {
            background: #f0f4f8;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
        }

        .suggestions h4 {
            color: #2d3748;
            margin-bottom: 10px;
            font-size: 14px;
        }

        .suggestion-item {
            background: white;
            padding: 10px;
            margin: 5px 0;
            border-radius: 6px;
            cursor: pointer;
            font-size: 13px;
            transition: all 0.2s;
        }

        .suggestion-item:hover {
            background: #e2e8f0;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }

        .modal-content {
            background-color: white;
            margin: 2% auto;
            padding: 0;
            border-radius: 15px;
            width: 95%;
            max-width: 1200px;
            height: 90vh;
            display: flex;
            flex-direction: column;
        }

        .modal-header {
            padding: 20px 25px;
            border-bottom: 1px solid #e2e8f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-radius: 15px 15px 0 0;
        }

        .modal-body {
            flex: 1;
            padding: 25px;
            overflow-y: auto;
        }

        .close {
            color: white;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover {
            opacity: 0.7;
        }

        .search-container {
            margin-bottom: 20px;
        }

        .search-input {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 16px;
        }

        .search-input:focus {
            outline: none;
            border-color: #667eea;
        }

        .category {
            margin-bottom: 30px;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            overflow: hidden;
        }

        .category-header {
            background: linear-gradient(135deg, #f7fafc, #edf2f7);
            padding: 15px 20px;
            font-weight: 600;
            color: #2d3748;
            border-bottom: 1px solid #e2e8f0;
        }

        .category-description {
            font-size: 14px;
            color: #4a5568;
            margin-top: 5px;
        }

        .prompts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            padding: 20px;
        }

        .prompt-card {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .prompt-card:hover {
            border-color: #667eea;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.1);
            transform: translateY(-2px);
        }

        .prompt-code {
            font-weight: bold;
            color: #667eea;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .prompt-text {
            color: #4a5568;
            font-size: 13px;
            line-height: 1.4;
            max-height: 100px;
            overflow: hidden;
            position: relative;
        }

        .copy-feedback {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #48bb78;
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            font-weight: 500;
            z-index: 1001;
            transform: translateX(100%);
            transition: transform 0.3s;
        }

        .copy-feedback.show {
            transform: translateX(0);
        }

        .phase-badge {
            display: inline-block;
            background: #e2e8f0;
            color: #4a5568;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 500;
            margin-bottom: 10px;
        }

        .phase-a { background: #fef5e7; color: #744210; }
        .phase-b { background: #e6fffa; color: #234e52; }
        .phase-c { background: #f0fff4; color: #22543d; }

        @media (max-width: 768px) {
            .chat-container {
                grid-template-columns: 1fr;
            }
            
            .modal-content {
                width: 98%;
                height: 95vh;
                margin: 1% auto;
            }
            
            .prompts-grid {
                grid-template-columns: 1fr;
            }
            
            .progress-bar {
                flex-wrap: wrap;
                gap: 10px;
            }
            
            .step {
                min-width: 80px;
            }
        }
    </style>
</head>
<body>
    <div class="main-container">
        <!-- Header -->
        <div class="header">
            <div class="session-info">
                <h1>üéØ Triadisches KI-Coaching</h1>
                <div class="header-buttons">
                    <button class="btn btn-primary" onclick="openRepository()">üìö Triadisches Repository</button>
                    <button class="btn btn-secondary">üíæ Auto-Save</button>
                </div>
            </div>
        </div>

        <!-- Progress Container -->
        <div class="progress-container">
            <div class="progress-bar" id="progressBar">
                <!-- Steps will be generated by JavaScript -->
            </div>
        </div>

        <!-- Step Details -->
        <div class="step-details" id="stepDetails">
            <!-- Step content will be generated by JavaScript -->
        </div>

        <!-- Chat Container -->
        <div class="chat-container">
            <!-- Coaching Dialog Panel -->
            <div class="chat-panel">
                <div class="chat-header coaching-header">
                    üí¨ Coaching-Dialog (Coach ‚Üî Coachee)
                </div>
                <div class="chat-messages" id="coachingMessages">
                    <div class="message ai">
                        Willkommen zum triadischen KI-Coaching! Ich bin hier, um Sie durch den strukturierten 12-Schritte-Prozess zu begleiten. Beginnen wir mit Schritt 1 - der Problem- und Zielbeschreibung.
                    </div>
                </div>
                <div class="chat-input-container">
                    <textarea class="chat-input" id="coachingInput" placeholder="Ihre Nachricht an den Coach..." rows="2"></textarea>
                    <button class="send-btn" onclick="sendMessage('coaching')">Senden</button>
                </div>
                <div class="suggestions" id="coachingSuggestions">
                    <h4>üí° Empfohlene Fragen f√ºr diesen Schritt:</h4>
                    <!-- Suggestions will be generated by JavaScript -->
                </div>
            </div>

            <!-- KI Assistant Panel -->
            <div class="chat-panel">
                <div class="chat-header assistant-header">
                    ü§ñ KI-Assistent (Coach ‚Üî KI)
                </div>
                <div class="chat-messages" id="assistantMessages">
                    <div class="message ai">
                        Hallo! Ich bin Ihr KI-Assistent und unterst√ºtze Sie als Coach bei der Durchf√ºhrung des triadischen Coaching-Prozesses. Nutzen Sie das Repository f√ºr passende Prompts oder fragen Sie mich direkt nach Hinweisen f√ºr den aktuellen Schritt.
                    </div>
                </div>
                <div class="chat-input-container">
                    <textarea class="chat-input" id="assistantInput" placeholder="Ihre Frage an den KI-Assistenten..." rows="2"></textarea>
                    <button class="send-btn" onclick="sendMessage('assistant')">Senden</button>
                </div>
                <div class="suggestions" id="assistantSuggestions">
                    <h4>üîß KI-Unterst√ºtzung f√ºr diesen Schritt:</h4>
                    <!-- Suggestions will be generated by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Navigation -->
        <div class="navigation">
            <button class="btn btn-secondary" onclick="previousStep()" id="prevBtn">‚Üê Vorheriger Schritt</button>
            <span id="stepCounter">Schritt 1 von 12</span>
            <button class="btn btn-primary" onclick="nextStep()" id="nextBtn">N√§chster Schritt ‚Üí</button>
        </div>
    </div>

    <!-- Repository Modal -->
    <div id="repositoryModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üìö Triadisches Repository - 73 Prompts in 13 Kategorien</h2>
                <span class="close" onclick="closeRepository()">&times;</span>
            </div>
            <div class="modal-body">
                <div class="search-container">
                    <input type="text" class="search-input" id="searchInput" placeholder="Suchen Sie nach Prompt-Codes (T1, D2, M3...) oder Stichw√∂rtern..." oninput="searchPrompts()">
                </div>
                <div id="repositoryContent">
                    <!-- Repository content will be generated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <!-- Copy Feedback -->
    <div id="copyFeedback" class="copy-feedback">Prompt kopiert! ‚úì</div>

    <script>
        // 12-Schritte Definition mit allen Details
        const steps = [
            {
                id: 1,
                title: "Problem- und Zielbeschreibung",
                phase: "A",
                tasks: [
                    "Coachee beschreibt das Problem in eigenen Worten",
                    "Konkrete Zielsetzung f√ºr das Coaching definieren",
                    "Wichtigkeit und Dringlichkeit auf Skala bewerten",
                    "Erste Ressourcen und St√§rken identifizieren"
                ],
                coachingSuggestions: [
                    "Beschreiben Sie mir bitte in 1-2 S√§tzen, was Sie erreichen m√∂chten.",
                    "Auf einer Skala von 0 bis 10: Wie wichtig ist Ihnen dieses Ziel?",
                    "Was hindert Sie daran, dieses Ziel zu erreichen?"
                ],
                assistantSuggestions: [
                    "Analysiere die Problemstellung auf Ausbalancierungsprobleme",
                    "Identifiziere bereits vorhandene Ressourcen",
                    "Pr√ºfe die Zielformulierung auf Konkretheit und Messbarkeit"
                ]
            },
            {
                id: 2,
                title: "Systemische Einordnung",
                phase: "A",
                tasks: [
                    "Problemkontext und Systemzusammenh√§nge erfassen",
                    "Beteiligte Personen und deren Rollen identifizieren",
                    "Wechselwirkungen und Abh√§ngigkeiten analysieren",
                    "Systemische Ressourcen erkunden"
                ],
                coachingSuggestions: [
                    "Wer ist noch von dieser Situation betroffen?",
                    "Welche Rollen spielen andere Personen in diesem System?",
                    "Wie w√ºrden andere die Situation beschreiben?"
                ],
                assistantSuggestions: [
                    "Erstelle eine systemische Karte der Beteiligten",
                    "Analysiere Wechselwirkungen und Abh√§ngigkeiten",
                    "Identifiziere systemische Ressourcen und Allianzen"
                ]
            },
            {
                id: 3,
                title: "Bildmetapher entwickeln",
                phase: "A",
                tasks: [
                    "Inneres Bild f√ºr die aktuelle Situation finden",
                    "Metapher ausf√ºhrlich beschreiben und vertiefen",
                    "Emotionale Resonanz der Metapher erkunden",
                    "Ver√§nderungspotential in der Metapher entdecken"
                ],
                coachingSuggestions: [
                    "Wenn Ihre Situation ein Bild w√§re - wie s√§he es aus?",
                    "Welche Farben, Formen und Bewegungen sehen Sie?",
                    "Was f√ºhlen Sie, wenn Sie dieses Bild betrachten?"
                ],
                assistantSuggestions: [
                    "Unterst√ºtze die Entwicklung einer stimmigen Bildmetapher",
                    "Erkunde die symbolische Bedeutung der Bildelemente",
                    "Identifiziere Ver√§nderungsm√∂glichkeiten in der Metapher"
                ]
            },
            {
                id: 4,
                title: "Ausbalancierungsprobleme identifizieren",
                phase: "A",
                tasks: [
                    "Relevante Spannungsfelder aus den 18 Dimensionen identifizieren",
                    "Polarit√§ten und deren Auspr√§gungen analysieren",
                    "Ungleichgewichte und √úberbetonungen erkennen",
                    "Komplement√§re Kr√§fte f√ºr Balance bestimmen"
                ],
                coachingSuggestions: [
                    "Zwischen welchen Polen bewegen Sie sich in dieser Situation?",
                    "Wo sp√ºren Sie ein Ungleichgewicht?",
                    "Was w√§re das Gegenteil Ihres aktuellen Verhaltens?"
                ],
                assistantSuggestions: [
                    "Analysiere mit den 18 Ausbalancierungsdimensionen",
                    "Identifiziere die 2-3 relevantesten Spannungsfelder",
                    "Bestimme komplement√§re Kr√§fte f√ºr mehr Balance"
                ]
            },
            {
                id: 5,
                title: "Schl√ºsselaffekt benennen",
                phase: "B",
                tasks: [
                    "Dominanten emotionalen Zustand identifizieren",
                    "K√∂rperliche Empfindungen des Affekts erfassen",
                    "Ausl√∂ser und Muster des Schl√ºsselaffekts erkunden",
                    "Zusammenhang zu den Ausbalancierungsproblemen herstellen"
                ],
                coachingSuggestions: [
                    "Welches Gef√ºhl ist in dieser Situation am st√§rksten?",
                    "Wo sp√ºren Sie dieses Gef√ºhl in Ihrem K√∂rper?",
                    "Wann taucht dieses Gef√ºhl typischerweise auf?"
                ],
                assistantSuggestions: [
                    "Identifiziere den Schl√ºsselaffekt aus der Beschreibung",
                    "Verbinde den Affekt mit den Ausbalancierungsproblemen",
                    "Analysiere Ausl√∂ser und wiederkehrende Muster"
                ]
            },
            {
                id: 6,
                title: "Inneres Team aufstellen",
                phase: "B",
                tasks: [
                    "Verschiedene innere Anteile identifizieren",
                    "Jeder Anteil bekommt Namen und Charakteristika",
                    "Positive Absichten aller Anteile w√ºrdigen",
                    "Teamchef-Anteil als Koordinator bestimmen"
                ],
                coachingSuggestions: [
                    "Welche verschiedenen Stimmen h√∂ren Sie in sich?",
                    "Geben Sie jedem Anteil einen Namen und beschreiben Sie ihn",
                    "Was will jeder Anteil f√ºr Sie Gutes erreichen?"
                ],
                assistantSuggestions: [
                    "Identifiziere die wichtigsten inneren Anteile",
                    "Beschreibe deren positive Absichten und Schutzfunktionen",
                    "Bestimme einen geeigneten Teamchef-Anteil"
                ]
            },
            {
                id: 7,
                title: "Dialog zwischen den Anteilen",
                phase: "B",
                tasks: [
                    "Konflikthafte Anteile in Dialog bringen",
                    "Verschiedene Perspektiven verstehen und w√ºrdigen",
                    "Gemeinsame Werte und Ziele identifizieren",
                    "Kompromisse und Kooperationen entwickeln"
                ],
                coachingSuggestions: [
                    "Was w√ºrde der eine Anteil dem anderen sagen?",
                    "Wo haben beide Anteile recht?",
                    "Wie k√∂nnten sie zusammenarbeiten?"
                ],
                assistantSuggestions: [
                    "Moderiere den Dialog zwischen konflikthaften Anteilen",
                    "Suche nach gemeinsamen Werten und Zielen",
                    "Entwickle Kooperationsvorschl√§ge f√ºr die Anteile"
                ]
            },
            {
                id: 8,
                title: "L√∂sungsstrategie entwickeln",
                phase: "C",
                tasks: [
                    "Konkrete Handlungsoptionen erarbeiten",
                    "Strategien f√ºr den Umgang mit Spannungsfeldern entwickeln",
                    "Ressourcen und Unterst√ºtzungsm√∂glichkeiten aktivieren",
                    "Realistische Umsetzungsschritte planen"
                ],
                coachingSuggestions: [
                    "Welche Handlungsm√∂glichkeiten sehen Sie jetzt?",
                    "Was w√ºrde Ihnen bei der Umsetzung helfen?",
                    "Welche Unterst√ºtzung brauchen Sie?"
                ],
                assistantSuggestions: [
                    "Entwickle konkrete L√∂sungsstrategien basierend auf der Analyse",
                    "Integriere die Erkenntnisse aus den Ausbalancierungsproblemen",
                    "Plane realistische und machbare Umsetzungsschritte"
                ]
            },
            {
                id: 9,
                title: "Innere Anteile transformieren",
                phase: "C",
                tasks: [
                    "Neue Rollen f√ºr die inneren Anteile definieren",
                    "Transformationsprozess f√ºr problematische Anteile einleiten",
                    "St√§rkung der hilfreichen Anteile",
                    "Neue Teamdynamik etablieren"
                ],
                coachingSuggestions: [
                    "Wie k√∂nnte sich dieser Anteil in Zukunft verhalten?",
                    "Welche neue Rolle w√§re f√ºr ihn passend?",
                    "Wie kann der Teamchef die anderen Anteile besser f√ºhren?"
                ],
                assistantSuggestions: [
                    "Unterst√ºtze die Transformation der inneren Anteile",
                    "Entwickle neue, konstruktive Rollen f√ºr jeden Anteil",
                    "St√§rke die F√ºhrungsrolle des Teamchef-Anteils"
                ]
            },
            {
                id: 10,
                title: "Glaubenss√§tze transformieren",
                phase: "C",
                tasks: [
                    "Limiting beliefs identifizieren und hinterfragen",
                    "Neue, unterst√ºtzende Glaubenss√§tze entwickeln",
                    "Verankerung der neuen √úberzeugungen",
                    "Integration in das Selbstbild"
                ],
                coachingSuggestions: [
                    "Welche √úberzeugungen hindern Sie noch?",
                    "Was w√ºrden Sie stattdessen gerne glauben?",
                    "Wie k√∂nnen Sie diese neue √úberzeugung st√§rken?"
                ],
                assistantSuggestions: [
                    "Identifiziere dysfunktionale Glaubenss√§tze",
                    "Entwickle alternative, unterst√ºtzende √úberzeugungen",
                    "Plane √úbungen zur Verankerung neuer Glaubenss√§tze"
                ]
            },
            {
                id: 11,
                title: "Erfolgsimagination kreieren",
                phase: "C",
                tasks: [
                    "Lebendige Zukunftsvision in allen Sinneskan√§len entwickeln",
                    "Emotionale Verankerung der Erfolgsvision",
                    "Integration der transformierten Anteile in die Vision",
                    "Motivation und Vorfreude aktivieren"
                ],
                coachingSuggestions: [
                    "Stellen Sie sich vor, Sie haben Ihr Ziel erreicht - was sehen, h√∂ren, f√ºhlen Sie?",
                    "Wie verhalten sich Ihre inneren Anteile in dieser Zukunft?",
                    "Was ist das Beste an dieser neuen Situation?"
                ],
                assistantSuggestions: [
                    "Kreiere eine detaillierte, sinnliche Erfolgsimagination",
                    "Integriere alle transformierten Anteile in die Vision",
                    "Verwende die Bildmetapher in der transformierten Form"
                ]
            },
            {
                id: 12,
                title: "Integration und Handlungsplan",
                phase: "C",
                tasks: [
                    "Alle Erkenntnisse und Transformationen zusammenfassen",
                    "Konkreten Handlungsplan mit Terminen erstellen",
                    "Erfolgskontrollen und Reflexionspunkte definieren",
                    "Nachhaltigkeit und Transfer sicherstellen"
                ],
                coachingSuggestions: [
                    "Was nehmen Sie als wichtigste Erkenntnis mit?",
                    "Welche konkreten Schritte gehen Sie als n√§chstes?",
                    "Wie bleiben Sie mit Ihren neuen Erkenntnissen in Kontakt?"
                ],
                assistantSuggestions: [
                    "Erstelle eine Zusammenfassung aller wichtigen Erkenntnisse",
                    "Entwickle einen detaillierten Handlungsplan",
                    "Plane Follow-up Termine und Erfolgskontrollen"
                ]
            }
        ];

        // Vollst√§ndige Prompt Database mit allen 73 Prompts
        const promptDatabase = {
            'ki_phase1': {
                title: 'ü§ñ KI-Prompts Phase 1',
                description: 'Anweisungen AN die KI',
                prompts: {
                    'T1': 'Ich habe folgendes Problem und m√∂chte es mit Ihnen bearbeiten...',
                    'T2': 'Erstelle einen in Ich-Form geschriebenen Bericht, in dem alle bisher vorliegenden Informationen der Problem- und Zielbeschreibung zusammengefasst sind. Gliedere diesen Bericht in zwei Teile: 1) Problembeschreibung und 2) Zielbeschreibung.',
                    'T3': 'Analysiere die vorliegenden Informationen und identifiziere die Kernproblematik. Welche Muster und Zusammenh√§nge sind erkennbar?',
                    'T4': 'Identifiziere aus dem Textbaustein Ausbalancierungsprobleme die relevanten Spannungsfelder f√ºr diese Problematik.'
                }
            },
            'ki_phase2': {
                title: 'ü§ñ KI-Prompts Phase 2',
                description: 'Anweisungen AN die KI',
                prompts: {
                    'T7A': 'Versetze dich bitte in die Bremse - den inneren Anteil, der vor Ver√§nderung warnt. Was w√ºrde dieser Anteil sagen?',
                    'T7B': 'Analysiere das obige Transkript sowie alle momentan vorliegenden Informationen zu meiner Coachingproblematik mit Hilfe des Textbausteins Ausbalancierungsprobleme und erstelle mit Blick auf die 18 Ausbalancierungsdimensionen eine detaillierte Diagnose.',
                    'T7C': 'F√ºhre eine systemische Analyse durch und identifiziere alle relevanten Faktoren und Akteure.'
                }
            },
            'ki_phase3': {
                title: 'ü§ñ KI-Prompts Phase 3',
                description: 'Anweisungen AN die KI',
                prompts: {
                    'T8': 'Entwickle konkrete L√∂sungsstrategien basierend auf der vorangegangenen Analyse.',
                    'T10': 'Erstelle einen detaillierten Handlungsplan mit konkreten Schritten und Terminen.',
                    'T11': 'Orientiere dich bei dieser Aufgabe an dem Textbaustein Ausbalancierungsprobleme, da ist Coaching-diagnostisches Wissen hinterlegt. Gehe dabei im Einzelnen folgenderma√üen vor: Beziehe dich auf die Komplement√§rkr√§fte und entwickle eine Erfolgsimagination.'
                }
            },
            'coach_instructions': {
                title: 'üë®‚Äçüíº Coach-Anweisungen',
                description: 'WIE der Coach vorgeht',
                prompts: {
                    'C1': 'Stellen Sie sich vor, da ist ein Teamchef in Ihnen - das ist der Teil, der dieses Ziel erreichen will. W√§hlen Sie eine Figur f√ºr diesen Teamchef und beschreiben Sie ihn.',
                    'C2': 'F√ºhren Sie den Klienten durch eine systematische Exploration der verschiedenen inneren Anteile.',
                    'C3': 'Ich m√∂chte gerne mit der Bremse sprechen - dem Anteil, der Sie vor Ver√§nderung sch√ºtzen will.',
                    'C4': 'Leiten Sie eine Ressourcen-Aktivierung ein und identifizieren Sie vorhandene St√§rken.',
                    'C5': 'Unterst√ºtzen Sie den Transformationsprozess der inneren Anteile.',
                    'C6': 'Begleiten Sie die Integration der Erkenntnisse in den Alltag.'
                }
            },
            'client_questions': {
                title: '‚ùì Klienten-Fragen',
                description: 'Fragen AN den Klienten',
                prompts: {
                    'F1': 'Beschreiben Sie mir bitte in 1-2 S√§tzen, was Sie erreichen m√∂chten.',
                    'F2': 'Auf einer Skala von 0 bis 10: Wie wichtig ist Ihnen dieses Ziel?',
                    'F3': 'Was hindert Sie daran, dieses Ziel zu erreichen?',
                    'F4': 'Welche Ressourcen haben Sie bereits zur Verf√ºgung?',
                    'F5': 'Wie w√ºrden Sie merken, dass Sie Ihr Ziel erreicht haben?',
                    'F6': 'Was w√§re der erste kleine Schritt in die richtige Richtung?',
                    'F7': 'Wer oder was k√∂nnte Sie dabei unterst√ºtzen?',
                    'F8': 'Welche Erfolge haben Sie in √§hnlichen Situationen bereits erlebt?'
                }
            },
            'spannungsfelder': {
                title: '‚öñÔ∏è Spannungsfeld-Fragen',
                description: '40 Ruhestand-Spannungen',
                prompts: {
                    'SP1': 'Zwischen welchen Polen bewegen Sie sich gerade?',
                    'SP20': 'Wie balancieren Sie Aktivit√§t und Ruhe?',
                    'SP21': 'Was bedeutet Erfolg f√ºr Sie in dieser Lebensphase?',
                    'SP23': 'Wenn Sie an Ihre Arbeitszeit denken - was vermissen Sie, was nicht?',
                    'SP24': 'Schwanken Sie zwischen dem Wunsch nach Struktur und dem nach Freiheit?',
                    'SP25': 'Wie gehen Sie mit dem Gef√ºhl von Nutzlosigkeit um?',
                    'SP26': 'Zwischen Alleinsein und Gesellschaft - wo f√ºhlen Sie sich wohl?',
                    'SP27': 'Schwanken Sie zwischen Gesellschaft und Ruhe?',
                    'SP28': 'Wie erleben Sie den Wandel Ihrer sozialen Rolle?',
                    'SP36': 'Wie gehen Sie mit k√∂rperlichen Ver√§nderungen um?',
                    'SP37': 'Zwischen Vitalit√§t und Akzeptanz - wo stehen Sie?',
                    'SP38': 'Wie denken Sie √ºber Ihre Endlichkeit?',
                    'SP33': 'Was gibt Ihrem Leben Sinn und Bedeutung?',
                    'SP39': 'Zwischen Bewahrung des Erreichten und Neubeginn?',
                    'SP40': 'Wie m√∂chten Sie in dieser Lebensphase noch weiterwachsen?'
                }
            },
            'diagnostik': {
                title: 'üß† Diagnostik',
                description: 'Diagnose & Spannungsfelder erfassen',
                prompts: {
                    'D1': 'Analysiere die folgende Aussage mit Blick auf m√∂gliche Ausbalancierungsprobleme: ‚ÄπIch kann einfach nicht loslassen ‚Äì ich muss alles selbst im Griff haben.‚Ä∫ ‚Äì Welche Spannungsdimensionen sind hier aktiv? ‚Äì Welche komplement√§re Kraft k√∂nnte hilfreich sein? ‚Äì Was w√§re ein ressourcenfokussierter Coachingansatz?',
                    'D2': 'Lies folgende Klient:innenaussage: ‚ÄπIch weiss, ich sollte etwas tun, aber innerlich bin ich wie gel√§hmt.‚Ä∫ ‚Äì Welcher Schl√ºsselaffekt zeigt sich hier? ‚Äì Was k√∂nnte die innere Dynamik dahinter sein? ‚Äì Welche erste kleine Intervention w√§re denkbar?',
                    'D3': 'Eine Klientin sagt: ‚ÄπEin Teil von mir will einfach Ruhe, aber der andere macht mir Druck, weiterzumachen.‚Ä∫ ‚Äì Welche zwei inneren Anteile k√∂nnten hier aktiv sein? ‚Äì Was wollen sie jeweils sch√ºtzen oder erreichen? ‚Äì Wie k√∂nnte der Coach innere Verst√§ndigung anregen?',
                    'D4': 'Ein Coachee sagt: ‚ÄπIch muss immer stark sein ‚Äì Schw√§che zeigen geht nicht.‚Ä∫ ‚Äì Welcher dysfunktionale Glaubenssatz ist hier aktiv? ‚Äì Welcher positive Wert steckt vielleicht dahinter? ‚Äì Wie k√∂nnte man diesen Satz achtsam in Frage stellen?'
                }
            },
            'intervention': {
                title: 'üõ†Ô∏è Intervention',
                description: 'L√∂sungsorientierte Mikrointerventionen',
                prompts: {
                    'I1': 'Ein Coachee sagt: ‚ÄπIch weiss nicht, wie ich anfangen soll ‚Äì es ist alles zu viel.‚Ä∫ ‚Äì Welche kleine l√∂sungsfokussierte Frage k√∂nnte den n√§chsten Schritt erleichtern? ‚Äì Welche vorhandene Ressource kann aktiviert werden? ‚Äì Was w√§re eine hilfreiche Skalierungsfrage dazu?',
                    'I2': 'Bitte formuliere eine motivierende Erfolgsimagination in Ich-Form f√ºr folgende Zielrichtung: ‚ÄπIch m√∂chte in meinem Ruhestand klarer sp√ºren, was mir gut tut ‚Äì und mutiger danach handeln.‚Ä∫ ‚Äì Baue sinnliche Eindr√ºcke ein (sehen, h√∂ren, f√ºhlen) ‚Äì Zeige den Unterschied zur Ausgangssituation ‚Äì Integriere den inneren Dialog der Ver√§nderung',
                    'I3': 'Stelle einem Coachee mit aktuellem Mutverlust folgende Frage: ‚ÄπWann in deinem Leben hast du schon einmal eine √§hnliche Situation bew√§ltigt ‚Äì und wie hast du das damals geschafft?‚Ä∫ ‚Äì Welche Elemente aus der damaligen L√∂sung lassen sich heute nutzen? ‚Äì Was hat dich damals gest√ºtzt?',
                    'I4': 'Ein Coachee sagt: ‚ÄπIch werde im Ruhestand ganz sicher √ºberfl√ºssig sein.‚Ä∫ ‚Äì Formuliere eine Frage, die den gegenteiligen Gedanken pr√ºft, z. B.: ‚ÄπWas w√§re, wenn du gerade dann besonders gebraucht wirst ‚Äì vielleicht anders als bisher?‚Ä∫ ‚Äì Welche neue Perspektive k√∂nnte daraus entstehen?',
                    'I5': 'Stelle dir vor, du begegnest deinem 10 Jahre √§lteren Ich ‚Äì es wirkt ruhig, klar und zugewandt. ‚Äì Was w√ºrde es dir raten f√ºr deine aktuelle Situation? ‚Äì Welche Werte oder Haltungen strahlt es aus? ‚Äì Was sagt es dir √ºber den Weg, den du gehen willst?'
                }
            },
            'metaphern': {
                title: 'üåÄ Metaphern & Sprache',
                description: 'Bilder die ber√ºhren und wirken',
                prompts: {
                    'M1': 'Bitte rege einen Coachee an, seine aktuelle Lebenslage als inneres Bild zu beschreiben: ‚Äì ‚ÄπWenn deine Situation ein Bild w√§re ‚Äì wie s√§he es aus? Was w√§re zu sehen, zu sp√ºren, zu h√∂ren?‚Ä∫ ‚Äì ‚ÄπWelche Farben, Formen, Bewegungen kommen vor?‚Ä∫ ‚Äì ‚ÄπWas zeigt sich dir darin √ºber dein inneres Erleben?‚Ä∫',
                    'M2': 'Ein Coachee beschreibt ein wiederkehrendes, belastendes Gef√ºhl. Bitte leite folgende Imaginationsfrage an: ‚Äì ‚ÄπStell dir vor, dieses Gef√ºhl w√§re eine Figur ‚Äì wie sieht sie aus, wie spricht sie, wie bewegt sie sich?‚Ä∫ ‚Äì ‚ÄπWie heisst sie ‚Äì und was will sie dir sagen?‚Ä∫ ‚Äì ‚ÄπWelche gute Absicht k√∂nnte dahinterstecken?‚Ä∫',
                    'M3': 'Leite folgende √úbung an: ‚ÄπStell dir dein Leben als Garten vor. Welche Pflanzen wachsen darin? Wo ist es √ºppig, wo karg? ‚Äì Gibt es Bereiche, die mehr Pflege brauchen? ‚Äì Was w√§chst vielleicht schon, ohne dass du es merkst? ‚Äì Was m√∂chtest du neu anlegen?‚Ä∫',
                    'M4': 'Bitte frage: ‚ÄπWenn du das so sagst ‚Äì wo im K√∂rper sp√ºrst du das am meisten?‚Ä∫ ‚Äì ‚ÄπWie ver√§ndert sich die K√∂rperempfindung, wenn du die Formulierung leicht abwandelst?‚Ä∫ ‚Äì ‚ÄπWelche Worte f√ºhlen sich stimmiger an?‚Ä∫ Beispiel: Aus ‚ÄπIch muss loslassen‚Ä∫ wird ‚ÄπIch darf sanft weitergehen‚Ä∫',
                    'M5': 'Ein Coachee sagt: ‚ÄπIch weiss einfach nicht mehr, was ich will.‚Ä∫ ‚Äì Bitte formuliere daraus eine sprachlich ber√ºhrende Metapher, z. B.: ‚ÄπWie ein Segel ohne Wind treibe ich auf offenem Meer ‚Äì sehnend nach einem Kompass.‚Ä∫ ‚Äì Frage zur√ºck: ‚ÄπWas w√§re dein n√§chster Kurs ‚Äì auch ohne Wind?‚Ä∫'
                }
            },
            'skalierung': {
                title: 'üìè Skalierung & Reflexion',
                description: 'Klarheit schaffen, Entwicklung sichtbar machen',
                prompts: {
                    'S1': 'Bitte leite eine klassische Skalierungsfrage an: ‚Äì ‚ÄπAuf einer Skala von 0 bis 10 ‚Äì wobei 10 bedeutet: Es ist genau so, wie du es dir w√ºnschst ‚Äì wo stehst du heute?‚Ä∫ ‚Äì ‚ÄπWas ist schon da, dass du bei dieser Zahl stehst und nicht bei einer tieferen?‚Ä∫ ‚Äì ‚ÄπWas m√ºsste passieren, damit du einen Punkt h√∂her k√§mst?‚Ä∫',
                    'S2': 'Coachee hat bereits Schritte unternommen. Bitte frage: ‚Äì ‚ÄπWenn du zur√ºckblickst: Wo standest du vor zwei Wochen ‚Äì auf derselben Skala?‚Ä∫ ‚Äì ‚ÄπWas hat sich seitdem bewegt ‚Äì innerlich wie √§usserlich?‚Ä∫ ‚Äì ‚ÄπWas kannst du dir selbst daf√ºr anerkennen?‚Ä∫',
                    'S3': 'Bitte gib einem Coachee eine Anleitung, wie er eine Skala √ºber mehrere Tage f√ºhren kann: ‚Äì ‚ÄπW√§hle ein Thema, z. B. dein Energielevel, deine Gelassenheit oder Zuversicht.‚Ä∫ ‚Äì ‚ÄπTrage jeden Abend eine Zahl zwischen 0 und 10 ein.‚Ä∫ ‚Äì ‚ÄπBeobachte Muster, Ausl√∂ser und Ver√§nderungen ‚Äì ohne Bewertung.‚Ä∫ ‚Äì ‚ÄπWas f√§llt dir nach einer Woche auf?‚Ä∫',
                    'S4': 'Bitte leite eine einfache Aufstellung im Raum an: ‚Äì ‚ÄπStell dir drei Punkte im Raum vor: deinen aktuellen Standpunkt, dein Wunschbild, und einen Beobachterpunkt.‚Ä∫ ‚Äì ‚ÄπGehe die Positionen ab ‚Äì was nimmst du jeweils wahr?‚Ä∫ ‚Äì ‚ÄπWelche neue Sicht entsteht aus dem Beobachterpunkt?‚Ä∫',
                    'S5': 'Bitte leite eine dreiteilige Reflexion an: ‚Äì ‚Äπ1. Was ist konkret passiert?‚Ä∫ ‚Äì ‚Äπ2. Wie habe ich mich dabei gef√ºhlt, was hat mich geleitet?‚Ä∫ ‚Äì ‚Äπ3. Was nehme ich daraus mit ‚Äì was bleibt, was lerne ich?‚Ä∫'
                }
            },
            'modelle': {
                title: 'üß≠ Modell-Zuordnung',
                description: 'Coachingmodelle gezielt anwenden',
                prompts: {
                    'MO1': 'Bitte leite ein Coachinggespr√§ch mit dem GROW-Modell an: ‚Äì G: ‚ÄπWas ist dein Ziel in dieser Sitzung?‚Ä∫ ‚Äì R: ‚ÄπWo stehst du aktuell in Bezug auf dieses Ziel?‚Ä∫ ‚Äì O: ‚ÄπWelche M√∂glichkeiten hast du, dich dem Ziel zu n√§hern?‚Ä∫ ‚Äì W: ‚ÄπWas wirst du konkret als N√§chstes tun ‚Äì und wann?‚Ä∫',
                    'MO2': 'Bitte frage den Coachee: ‚Äì ‚ÄπBist du gerade eher in einer Phase des Abschiednehmens, der Zwischenzeit oder eines Neuanfangs?‚Ä∫ ‚Äì ‚ÄπWas zeigt sich f√ºr dich in dieser Phase?‚Ä∫ ‚Äì ‚ÄπWas hilft dir, gut durch diese Zeit zu gehen ‚Äì und was w√§re der n√§chste kleine Schritt?‚Ä∫',
                    'MO3': 'Bitte leite eine Tetralemma-Fragef√ºhrung ein: ‚Äì ‚ÄπWas spricht f√ºr A?‚Ä∫ ‚Äì ‚ÄπWas spricht f√ºr B?‚Ä∫ ‚Äì ‚ÄπWas w√§re eine dritte Option, ein Sowohl-als-auch?‚Ä∫ ‚Äì ‚ÄπWas w√§re ein ganz anderer, √ºberraschender vierter Weg?‚Ä∫ ‚Äì ‚ÄπUnd wenn du das Ganze einmal komplett in Frage stellst ‚Äì was zeigt sich als f√ºnfte M√∂glichkeit?‚Ä∫',
                    'MO4': 'Bitte leite ein Gespr√§ch mit dem Lebensrad an: ‚Äì ‚ÄπStell dir einen Kreis mit acht Segmenten vor: Beruf, Beziehungen, Gesundheit, Freizeit, Pers√∂nliches Wachstum, Finanzen, Wohnumfeld, Sinn/Spiritualit√§t.‚Ä∫ ‚Äì ‚ÄπWie zufrieden bist du mit jedem Bereich ‚Äì auf einer Skala von 0 bis 10?‚Ä∫ ‚Äì ‚ÄπWas m√∂chtest du st√§rken oder ver√§ndern?‚Ä∫ ‚Äì ‚ÄπWelcher erste Schritt ergibt sich daraus?‚Ä∫',
                    'MO5': 'Bitte leite eine ZRM-orientierte √úbung an: ‚Äì ‚ÄπGibt es ein Bild, das dich spontan anspricht ‚Äì ohne genau zu wissen, warum?‚Ä∫ ‚Äì ‚ÄπWas l√∂st es k√∂rperlich, emotional oder gedanklich in dir aus?‚Ä∫ ‚Äì ‚ÄπWas k√∂nnte ein Mottoziel sein, das diese Resonanz einf√§ngt?‚Ä∫ ‚Äì ‚ÄπWie w√ºrdest du dieses Motto in dein Leben integrieren?‚Ä∫'
                }
            },
            'prompt_gestaltung': {
                title: 'üß© Prompt-Gestaltung',
                description: 'Meta-Prompts f√ºr wirksame KI-Dialoge',
                prompts: {
                    'PG1': 'Formuliere deinen Prompt entlang dieser vier Elemente: ‚Äì Person: Wer spricht oder antwortet (z. B. ¬´Du bist ein empathischer Coach ‚Ä¶¬ª) ‚Äì Perspektive: Welche Rolle oder Haltung wird eingenommen (z. B. systemisch, l√∂sungsfokussiert, narrativ ‚Ä¶) ‚Äì Prozess: Was soll die KI konkret tun (analysieren, paraphrasieren, visualisieren ‚Ä¶) ‚Äì Purpose: Wozu dient das Ganze? (Klarheit, Struktur, Aktivierung etc.)',
                    'PG2': 'Kennzeichne jede Zeile durch ein Tag: ‚Äì <COACH>: Anweisung oder Einleitung des Coachs ‚Äì <KI>: Antwort oder Analyse durch die KI ‚Äì <COACHEE>: Reaktion oder Input des Coachee (optional simuliert)',
                    'PG3': 'Nutze die 3-A-Regel: ‚Äì Anerkennen: ¬´Danke, dass du das teilst ‚Ä¶¬ª ‚Äì Aufgreifen: ¬´Du beschreibst also ‚Ä¶ Das klingt nach ‚Ä¶¬ª ‚Äì Anregen: ¬´Was w√§re, wenn du diesen Aspekt mal aus einer anderen Perspektive betrachtest ‚Ä¶?¬ª',
                    'PG4': 'Baue modulare Prompts: ¬´Du bist [Rolle] mit [Haltung]. Deine Aufgabe ist es, [Prozess] auszuf√ºhren, um [Ziel].¬ª ‚Üí Erg√§nzbar mit: Kontextwissen, Skalen, Methodenbezug, Visualisierung, Sprachstil etc.',
                    'PG5': 'Antworte so, wie ein einf√ºhlsamer Coach mit klarer Sprache, l√∂sungsorientierter Haltung und einem Hauch Leichtigkeit schreiben w√ºrde. Vermeide leere Floskeln, bleibe menschlich.'
                }
            },
            'textbausteine': {
                title: 'üß† KI-Textbausteine',
                description: 'Coaching-DNA f√ºr die KI',
                prompts: {
                    'TB1': 'COACHING SOLUTION FINDER: Du bist ein erfahrener, empathischer Coach. Deine Aufgabe ist es, ressourcenorientiert und wertsch√§tzend zu antworten. Beginne immer mit einer dankenden Begr√º√üung f√ºr das Vertrauen. Paraphrasiere das Problem in eigenen Worten, normalisiere es ("Das ist nicht ungew√∂hnlich...") und hebe bereits erkennbare St√§rken, Ressourcen oder positive Ans√§tze hervor. Dein Ton ist warmherzig, ermutigend und professionell. Fokussiere auf Potenziale statt Defizite.',
                    'TB2': 'AUSBALANCIERUNGSPROBLEME (18 Dimensionen): 1. Minderwertigkeit vs. Gro√üartigkeit, 2. Anerkennungsstreben vs. Egozentrik, 3. Selbstinszenierung vs. Zur√ºckhaltung, 4. Kontrolle vs. Vertrauen, 5. N√§he vs. Distanz, 6. Rationalit√§t vs. Intuition, 7. Perfektion vs. Spontaneit√§t, 8. Sicherheit vs. Risiko, 9. Autonomie vs. Zugeh√∂rigkeit, 10. Struktur vs. Flexibilit√§t, 11. Leistung vs. Entspannung, 12. Selbstf√ºrsorge vs. Aufopferung, 13. Offenheit vs. Bewahrung, 14. Durchsetzung vs. Harmonie, 15. Individualit√§t vs. Anpassung, 16. Aktivit√§t vs. Passivit√§t, 17. Optimismus vs. Realismus, 18. Bindung vs. Freiheit. Jede Dimension beschreibt ein m√∂gliches inneres Spannungsfeld.',
                    'TB3': 'SCHL√úSSELAFFEKTE: "Ich f√ºhle mich wie gel√§hmt und meine Gedanken kreisen..." / "Ich bin wie blockiert und alles andere erscheint pl√∂tzlich wichtiger..." / "Ich sp√ºre Entt√§uschung/√úberforderung und kann keinen klaren Gedanken fassen..." / "Ich f√ºhle mich innerlich unruhig und getrieben..." / "Es steigt Panik in mir auf und ich will nur noch weg..." / "Ich sp√ºre eine bleierne Schwere und Mutlosigkeit..." / "Mein Kopf wird leer und ich kann mich nicht konzentrieren..." / "Ich f√ºhle mich klein und hilflos wie ein Kind..." / "Es wird eng in mir und ich bekomme kaum noch Luft..." / "Ich sp√ºre Wut und Frustration, die mich l√§hmt..."',
                    'TB4': 'ERFOLGSIMAGINATION: Erstelle eine lebhafte, sinnliche Erz√§hlung in Ich-Form mit folgenden Elementen: ‚Äì Beginne mit der urspr√ºnglichen Schl√ºsselsituation ‚Äì Beschreibe die neue, positive Reaktion detailliert ‚Äì Integriere die komplement√§ren Kr√§fte der Ausbalancierungsprobleme ‚Äì Verwende die Bildmetapher aus Schritt 3 ‚Äì Mache es filmisch erlebbar (was sehe, h√∂re, f√ºhle ich?) ‚Äì Beschreibe innere Dialoge und neue Gedankenmuster ‚Äì Zeige konkrete Handlungen und deren positive Konsequenzen ‚Äì Verwende warme, motivierende Sprache ‚Äì Schaffe einen emotionalen Anker f√ºr das neue Verhalten',
                    'TB5': 'INNERE ANTEILE: Teamchefin/Zielerreicher (rational, zielorientiert, plant), Unterst√ºtzerin/Mutmacher (optimistisch, ermutigend, sieht Chancen), Bremse/Besch√ºtzer (vorsichtig, sicherheitsorientiert, warnt), Kritiker/Perfektionist (hohe Standards, fehlerfinderisch), Anerkennungssucher (braucht Best√§tigung, m√∂chte gemocht werden), Rebell/Innovator (hinterfragt Regeln, will Neues), Harmoniestifter (vermeidet Konflikte, sucht Ausgleich), Kontrolleur (will alles unter Kontrolle, plant detailliert). Jeder Anteil hat positive Absichten und sch√ºtzenswerte Bed√ºrfnisse.',
                    'TB6': 'GLAUBENSS√ÑTZE-ANALYSE: Perfektion ("Ich darf keine Fehler machen"), Anerkennung ("Mein Wert h√§ngt von der Meinung anderer ab"), Kontrolle ("Ich muss alles kontrollieren k√∂nnen"), Sicherheit ("Sichtbarkeit ist riskant"), Leistung ("Ich bin nur wertvoll, wenn ich leiste"), Selbstwert ("Ich bin nicht gut genug"). Analysiere die zugrundeliegenden Regeln der Realit√§tswahrnehmung und deren Schutzfunktion.'
                }
            }
        };

        // State Management
        let currentStep = 1;
        let stepData = {};

        // Initialize Application
        function initializeApp() {
            loadStepData();
            renderProgressBar();
            renderStepDetails();
            updateNavigation();
            renderRepositoryContent();
        }

        // Progress Bar Rendering
        function renderProgressBar() {
            const progressBar = document.getElementById('progressBar');
            progressBar.innerHTML = '';

            steps.forEach((step, index) => {
                const stepElement = document.createElement('div');
                stepElement.className = 'step';
                if (step.id === currentStep) stepElement.classList.add('active');
                if (stepData[step.id]?.completed) stepElement.classList.add('completed');

                stepElement.innerHTML = `
                    <div class="step-circle">${step.id}</div>
                    <div class="step-label">${step.title}</div>
                `;

                stepElement.onclick = () => goToStep(step.id);
                progressBar.appendChild(stepElement);
            });
        }

        // Step Details Rendering
        function renderStepDetails() {
            const step = steps.find(s => s.id === currentStep);
            const stepDetails = document.getElementById('stepDetails');
            
            const phaseClass = `phase-${step.phase.toLowerCase()}`;
            
            stepDetails.innerHTML = `
                <div class="phase-badge ${phaseClass}">Phase ${step.phase}</div>
                <div class="step-title">${step.id}. ${step.title}</div>
                <ul class="task-list">
                    ${step.tasks.map((task, index) => `
                        <li class="task-item ${stepData[currentStep]?.tasks?.[index] ? 'completed' : ''}">
                            <input type="checkbox" class="task-checkbox" 
                                   ${stepData[currentStep]?.tasks?.[index] ? 'checked' : ''}
                                   onchange="toggleTask(${index})">
                            <span class="task-text">${task}</span>
                        </li>
                    `).join('')}
                </ul>
            `;

            updateSuggestions();
        }

        // Update Suggestions
        function updateSuggestions() {
            const step = steps.find(s => s.id === currentStep);
            
            // Coaching Suggestions
            const coachingSuggestions = document.getElementById('coachingSuggestions');
            coachingSuggestions.innerHTML = `
                <h4>üí° Empfohlene Fragen f√ºr diesen Schritt:</h4>
                ${step.coachingSuggestions.map(suggestion => `
                    <div class="suggestion-item" onclick="insertText('coaching', \`${suggestion}\`)">
                        ${suggestion}
                    </div>
                `).join('')}
            `;

            // Assistant Suggestions
            const assistantSuggestions = document.getElementById('assistantSuggestions');
            assistantSuggestions.innerHTML = `
                <h4>üîß KI-Unterst√ºtzung f√ºr diesen Schritt:</h4>
                ${step.assistantSuggestions.map(suggestion => `
                    <div class="suggestion-item" onclick="insertText('assistant', \`${suggestion}\`)">
                        ${suggestion}
                    </div>
                `).join('')}
            `;
        }

        // Task Management
        function toggleTask(taskIndex) {
            if (!stepData[currentStep]) stepData[currentStep] = { tasks: [] };
            if (!stepData[currentStep].tasks) stepData[currentStep].tasks = [];
            
            stepData[currentStep].completed = allCompleted;
            
            saveStepData();
            renderProgressBar();
            renderStepDetails();
        }

        // Navigation
        function goToStep(stepId) {
            currentStep = stepId;
            renderProgressBar();
            renderStepDetails();
            updateNavigation();
        }

        function previousStep() {
            if (currentStep > 1) {
                currentStep--;
                renderProgressBar();
                renderStepDetails();
                updateNavigation();
            }
        }

        function nextStep() {
            if (currentStep < steps.length) {
                currentStep++;
                renderProgressBar();
                renderStepDetails();
                updateNavigation();
            }
        }

        function updateNavigation() {
            document.getElementById('prevBtn').disabled = currentStep === 1;
            document.getElementById('nextBtn').disabled = currentStep === steps.length;
            document.getElementById('stepCounter').textContent = `Schritt ${currentStep} von ${steps.length}`;
        }

        // Chat Functions
        function sendMessage(chatType) {
            const inputId = chatType === 'coaching' ? 'coachingInput' : 'assistantInput';
            const messagesId = chatType === 'coaching' ? 'coachingMessages' : 'assistantMessages';
            
            const input = document.getElementById(inputId);
            const messages = document.getElementById(messagesId);
            
            if (input.value.trim()) {
                // Add user message
                const userMessage = document.createElement('div');
                userMessage.className = 'message user';
                userMessage.textContent = input.value;
                messages.appendChild(userMessage);
                
                // Simulate AI response (in real implementation, this would call OpenAI API)
                simulateAIResponse(messagesId, chatType, input.value);
                
                input.value = '';
                messages.scrollTop = messages.scrollHeight;
            }
        }

        function simulateAIResponse(messagesId, chatType, userMessage) {
            const messages = document.getElementById(messagesId);
            
            setTimeout(() => {
                const aiMessage = document.createElement('div');
                aiMessage.className = 'message ai';
                
                if (chatType === 'coaching') {
                    aiMessage.textContent = `Vielen Dank f√ºr Ihr Vertrauen. Ich verstehe, dass Sie "${userMessage.substring(0, 50)}..." besch√§ftigt. Das ist eine wichtige Beobachtung. Lassen Sie uns das gemeinsam weiter erkunden...`;
                } else {
                    aiMessage.textContent = `Basierend auf Ihrer Anfrage "${userMessage.substring(0, 50)}..." empfehle ich Ihnen, die Ausbalancierungsdimensionen zu analysieren. Nutzen Sie Prompt T${currentStep} aus dem Repository f√ºr eine strukturierte Herangehensweise.`;
                }
                
                messages.appendChild(aiMessage);
                messages.scrollTop = messages.scrollHeight;
            }, 1000);
        }

        function insertText(chatType, text) {
            const inputId = chatType === 'coaching' ? 'coachingInput' : 'assistantInput';
            const input = document.getElementById(inputId);
            input.value = text;
            input.focus();
        }

        // Repository Functions
        function openRepository() {
            document.getElementById('repositoryModal').style.display = 'block';
        }

        function closeRepository() {
            document.getElementById('repositoryModal').style.display = 'none';
        }

        function renderRepositoryContent() {
            const content = document.getElementById('repositoryContent');
            content.innerHTML = '';

            Object.keys(promptDatabase).forEach(categoryKey => {
                const category = promptDatabase[categoryKey];
                const categoryElement = document.createElement('div');
                categoryElement.className = 'category';
                categoryElement.innerHTML = `
                    <div class="category-header">
                        ${category.title}
                        <div class="category-description">${category.description}</div>
                    </div>
                    <div class="prompts-grid">
                        ${Object.keys(category.prompts).map(promptKey => `
                            <div class="prompt-card" onclick="copyPrompt('${promptKey}', \`${category.prompts[promptKey].replace(/`/g, '\\`').replace(/\$/g, '\\Step].tasks[taskIndex] = !stepData[currentStep].tasks[taskIndex];
            
            // Check if all tasks are completed
            const step = steps.find(s => s.id === currentStep);
            const allCompleted = step.tasks.every((_, index) => stepData[currentStep].tasks[index]);
            stepData[current)}\`)">
                                <div class="prompt-code">${promptKey}</div>
                                <div class="prompt-text">${category.prompts[promptKey].substring(0, 150)}${category.prompts[promptKey].length > 150 ? '...' : ''}</div>
                            </div>
                        `).join('')}
                    </div>
                `;
                content.appendChild(categoryElement);
            });
        }

        function searchPrompts() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const categories = document.querySelectorAll('.category');
            
            categories.forEach(category => {
                const prompts = category.querySelectorAll('.prompt-card');
                let hasVisiblePrompts = false;
                
                prompts.forEach(prompt => {
                    const code = prompt.querySelector('.prompt-code').textContent.toLowerCase();
                    const text = prompt.querySelector('.prompt-text').textContent.toLowerCase();
                    
                    if (code.includes(searchTerm) || text.includes(searchTerm)) {
                        prompt.style.display = 'block';
                        hasVisiblePrompts = true;
                    } else {
                        prompt.style.display = 'none';
                    }
                });
                
                category.style.display = hasVisiblePrompts ? 'block' : 'none';
            });
        }

        function copyPrompt(code, text) {
            navigator.clipboard.writeText(text).then(() => {
                showCopyFeedback();
                
                // Also insert into active chat input
                const coachingInput = document.getElementById('coachingInput');
                const assistantInput = document.getElementById('assistantInput');
                
                // Determine which input to use based on prompt type
                if (code.startsWith('T') || code.startsWith('TB') || code.startsWith('D') || code.startsWith('PG')) {
                    assistantInput.value = text;
                } else {
                    coachingInput.value = text;
                }
            });
        }

        function showCopyFeedback() {
            const feedback = document.getElementById('copyFeedback');
            feedback.classList.add('show');
            setTimeout(() => {
                feedback.classList.remove('show');
            }, 2000);
        }

        // Data Persistence
        function saveStepData() {
            try {
                localStorage.setItem('coaching-step-data', JSON.stringify(stepData));
            } catch (e) {
                console.log('LocalStorage nicht verf√ºgbar');
            }
        }

        function loadStepData() {
            try {
                const saved = localStorage.getItem('coaching-step-data');
                stepData = saved ? JSON.parse(saved) : {};
            } catch (e) {
                stepData = {};
            }
        }

        // Event Listeners
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeRepository();
            }
            
            if (e.key === 'Enter' && (e.ctrlKey || e.metaKey)) {
                const activeElement = document.activeElement;
                if (activeElement.id === 'coachingInput') {
                    sendMessage('coaching');
                } else if (activeElement.id === 'assistantInput') {
                    sendMessage('assistant');
                }
            }
        });

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('repositoryModal');
            if (event.target === modal) {
                closeRepository();
            }
        }

        // Initialize app when page loads
        document.addEventListener('DOMContentLoaded', initializeApp);
    </script>
</body>
</html>Step].tasks[taskIndex] = !stepData[currentStep].tasks[taskIndex];
            
            // Check if all tasks are completed
            const step = steps.find(s => s.id === currentStep);
            const allCompleted = step.tasks.every((_, index) => stepData[currentStep].tasks[index]);
            stepData[current