<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>12-Schritte KI-Coaching Interface</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .main-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }

        .session-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .session-info h1 {
            color: #4a5568;
            font-size: 24px;
        }

        .session-meta {
            display: flex;
            gap: 20px;
            font-size: 14px;
            color: #666;
        }

        /* Progress Bar */
        .progress-container {
            background: #f7fafc;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .phase-labels {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-weight: bold;
            color: #4a5568;
        }

        .progress-bar {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: 5px;
            margin-bottom: 10px;
        }

        .step-indicator {
            height: 40px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
            position: relative;
        }

        .step-indicator.completed {
            background: #48bb78;
            color: white;
        }

        .step-indicator.active {
            background: #4299e1;
            color: white;
            transform: scale(1.1);
            box-shadow: 0 4px 12px rgba(66, 153, 225, 0.4);
        }

        .step-indicator.upcoming {
            background: #e2e8f0;
            color: #a0aec0;
        }

        .step-labels {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: 5px;
            font-size: 11px;
            text-align: center;
            color: #666;
        }

        /* Main Interface */
        .interface-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            height: calc(100vh - 200px);
        }

        .right-panels {
            display: grid;
            grid-template-rows: 1fr 1fr;
            gap: 15px;
        }

        .panel {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            overflow-y: auto;
        }

        .instructions-panel h3 {
            color: #4a5568;
            margin-bottom: 15px;
            font-size: 18px;
            border-bottom: 2px solid #e2e8f0;
            padding-bottom: 10px;
        }

        .step-content {
            display: none;
        }

        .step-content.active {
            display: block;
        }

        .instruction-item {
            background: #f7fafc;
            border-left: 4px solid #4299e1;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 0 8px 8px 0;
        }

        .instruction-item h4 {
            color: #2d3748;
            margin-bottom: 8px;
        }

        .instruction-item p {
            color: #4a5568;
            line-height: 1.6;
        }

        /* Chat Panel */
        .chat-container {
            display: flex;
            flex-direction: column;
            height: 100%;
        }

        .chat-header {
            background: #4299e1;
            color: white;
            padding: 15px;
            border-radius: 10px 10px 0 0;
            margin: -20px -20px 20px -20px;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 8px;
            margin-bottom: 15px;
            min-height: 300px;
        }

        .message {
            margin-bottom: 15px;
            padding: 12px;
            border-radius: 12px;
            max-width: 80%;
        }

        .message.coach {
            background: #e3f2fd;
            margin-left: auto;
            text-align: right;
        }

        .message.coachee {
            background: #f3e5f5;
        }

        .chat-input-container {
            display: flex;
            gap: 10px;
        }

        .chat-input {
            flex: 1;
            padding: 12px;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            font-size: 14px;
        }

        .send-btn {
            background: #4299e1;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
        }

        .send-btn:hover {
            background: #3182ce;
        }

        /* KI Assistant Panel */
        .ki-header {
            background: #9f7aea;
            color: white;
            padding: 15px;
            border-radius: 10px 10px 0 0;
            margin: -20px -20px 20px -20px;
        }

        .prompt-suggestions {
            margin-bottom: 20px;
        }

        .prompt-btn {
            display: block;
            width: 100%;
            background: #f7fafc;
            border: 1px solid #e2e8f0;
            padding: 12px;
            margin-bottom: 8px;
            border-radius: 8px;
            text-align: left;
            cursor: pointer;
            font-size: 13px;
            transition: all 0.2s;
        }

        .prompt-btn:hover {
            background: #edf2f7;
            border-color: #9f7aea;
        }

        .ki-response {
            background: #f0fff4;
            border: 1px solid #9ae6b4;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            font-size: 14px;
            line-height: 1.6;
        }

        /* Navigation Controls */
        .step-controls {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            padding: 15px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .nav-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .nav-btn.prev {
            background: #e2e8f0;
            color: #4a5568;
        }

        .nav-btn.next {
            background: #48bb78;
            color: white;
        }

        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .interface-container {
                grid-template-columns: 1fr;
                grid-template-rows: auto auto;
                height: auto;
            }
            
            .right-panels {
                grid-template-rows: 1fr 1fr;
                height: 600px;
            }
            
            .panel {
                height: auto;
                min-height: 280px;
            }
        }
    </style>
</head>
<body>
    <div class="main-container">
        <!-- Header -->
        <div class="header">
            <div class="session-info">
                <h1>12-Schritte KI-Coaching Session</h1>
                <div class="session-meta">
                    <span>Coachee: <strong id="coacheeName">Max Mustermann</strong></span>
                    <span>Datum: <strong id="sessionDate">17.07.2025</strong></span>
                    <span>Session ID: <strong id="sessionId">#12345</strong></span>
                </div>
            </div>
            
            <!-- Progress Bar -->
            <div class="progress-container">
                <div class="phase-labels">
                    <span>Phase A: Problem & Ziel (1-4)</span>
                    <span>Phase B: Analyse & Strategie (5-8)</span>
                    <span>Phase C: Umsetzung & Transfer (9-12)</span>
                </div>
                
                <div class="progress-bar" id="progressBar">
                    <!-- Steps will be generated by JavaScript -->
                </div>
                
                <div class="step-labels" id="stepLabels">
                    <!-- Labels will be generated by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Main Interface -->
        <div class="interface-container">
            <!-- Instructions Panel -->
            <div class="panel instructions-panel">
                <h3 id="currentStepTitle">Schritt 1: Zielkl√§rung & Skalenarbeit</h3>
                
                <!-- Step 1 Content -->
                <div class="step-content active" data-step="1">
                    <div class="instruction-item">
                        <h4>üéØ Zielformulierung</h4>
                        <p><strong>Coach sagt:</strong> "Beschreiben Sie mir bitte in 1-2 S√§tzen, was Sie erreichen m√∂chten. Schreiben Sie es so auf, als w√ºrden Sie es einem guten Freund erkl√§ren."</p>
                    </div>
                    
                    <div class="instruction-item">
                        <h4>üìä Wichtigkeits-Skala</h4>
                        <p><strong>Coach fragt:</strong> "Auf einer Skala von 0 bis 10: Wie wichtig ist Ihnen dieses Ziel? 0 bedeutet 'v√∂llig unwichtig', 10 bedeutet 'absolut entscheidend f√ºr mein Leben'."</p>
                    </div>
                    
                    <div class="instruction-item">
                        <h4>üìà Schwierigkeits-Skala</h4>
                        <p><strong>Coach fragt:</strong> "Und wie schwierig sch√§tzen Sie es ein, dieses Ziel zu erreichen? 0 w√§re 'kinderleicht', 10 w√§re 'scheint unm√∂glich'."</p>
                    </div>

                    <div class="instruction-item">
                        <h4>üîç Nachfrage</h4>
                        <p><strong>Coach vertieft:</strong> "Was genau macht es so wichtig/schwierig f√ºr Sie? Erz√§hlen Sie mir mehr davon."</p>
                    </div>
                </div>

                <!-- Step 2 Content -->
                <div class="step-content" data-step="2">
                    <div class="instruction-item">
                        <h4>üë• Teamchef einf√ºhren</h4>
                        <p><strong>Coach sagt:</strong> "Stellen Sie sich vor, da ist ein Teamchef in Ihnen - das ist der Teil, der dieses Ziel erreichen will. W√§hlen Sie eine Figur oder einen Gegenstand, der diesen Teil repr√§sentiert und stellen Sie ihn hier auf."</p>
                        <p><strong>Dann:</strong> "Was sagt dieser Teamchef? Lassen Sie ihn sprechen: 'Ich will, dass wir...'"</p>
                    </div>
                    
                    <div class="instruction-item">
                        <h4>‚úÖ Unterst√ºtzer identifizieren</h4>
                        <p><strong>Coach fragt:</strong> "Welcher Anteil in Ihnen unterst√ºtzt dieses Ziel? Was sagt er? Auch f√ºr ihn w√§hlen Sie bitte eine Figur."</p>
                    </div>
                    
                    <div class="instruction-item">
                        <h4>üõë Bremse aufdecken</h4>
                        <p><strong>Coach erkundet:</strong> "Und da ist bestimmt auch ein Teil in Ihnen, der Bedenken hat oder bremst. Sp√ºren Sie ihn? Was sagt diese innere Stimme? W√§hlen Sie auch daf√ºr eine Figur."</p>
                    </div>

                    <div class="instruction-item">
                        <h4>üîÑ Bei Widerstand</h4>
                        <p><strong>Falls n√∂tig:</strong> "Falls Sie sagen 'Da ist keine Bremse' - das ist v√∂llig normal. Manchmal versteckt sie sich. Fragen Sie sich: 'Was k√∂nnte schiefgehen?' oder 'Warum habe ich das Ziel noch nicht erreicht?' - und h√∂ren Sie, was antwortet."</p>
                    </div>
                </div>

                <!-- Step 3 Content -->
                <div class="step-content" data-step="3">
                    <div class="instruction-item">
                        <h4>üé≠ Interview mit der Bremse</h4>
                        <p><strong>Coach moderiert:</strong> "Ich m√∂chte gerne mit der Bremse sprechen. K√∂nnen Sie in diese Rolle hineinsp√ºren? ... Hallo Bremse, ich habe Ihre Bedenken geh√∂rt. Was genau macht Ihnen Sorgen an dem Vorhaben des Teamchefs?"</p>
                        <p><strong>Weiter:</strong> "Was bef√ºrchten Sie, was passieren k√∂nnte, wenn der Teamchef sein Ziel erreicht? Was ist Ihnen wichtig zu sch√ºtzen?"</p>
                    </div>
                    
                    <div class="instruction-item">
                        <h4>ü§ù Interview mit dem Unterst√ºtzer</h4>
                        <p><strong>Coach wechselt:</strong> "Jetzt wende ich mich an den Unterst√ºtzer. K√∂nnen Sie in diese Rolle wechseln? ... Du hast das Gespr√§ch mit der Bremse mitgeh√∂rt. Wie siehst du das, was sie sagt?"</p>
                        <p><strong>Und:</strong> "Was antwortest du der Bremse? Was ist aus deiner Sicht wichtig f√ºr das Erreichen des Ziels?"</p>
                    </div>
                    
                    <div class="instruction-item">
                        <h4>üëë Teamchef aktivieren</h4>
                        <p><strong>Coach fragt:</strong> "Und was sagt der Teamchef zu diesem Konflikt zwischen Bremse und Unterst√ºtzer?"</p>
                    </div>

                    <div class="instruction-item">
                        <h4>üìù Wichtig: Alles dokumentieren</h4>
                        <p><strong>Coach notiert:</strong> Alle Aussagen schriftlich festhalten - das brauchen Sie sp√§ter f√ºr die Reflexion.</p>
                    </div>
                </div>

                <!-- Step 4 Content -->
                <div class="step-content" data-step="4">
                    <div class="instruction-item">
                        <h4>üè∑Ô∏è Bremse benennen</h4>
                        <p><strong>Coach fragt:</strong> "Wenn Sie die Haltung der Bremse in 2-3 Worten beschreiben m√ºssten - wie w√ºrden Sie sie nennen? Etwas wie '√úbervorsichtige Sicherheitsw√§chterin' oder 'Perfektionismus-fixierte Selbstblockade'?"</p>
                    </div>
                    
                    <div class="instruction-item">
                        <h4>üè∑Ô∏è Unterst√ºtzer benennen</h4>
                        <p><strong>Coach fragt:</strong> "Und wie w√ºrden Sie die Haltung des Unterst√ºtzers bezeichnen? Vielleicht 'Mutiger Vorangeher' oder 'Pragmatischer Macher'?"</p>
                    </div>
                    
                    <div class="instruction-item">
                        <h4>‚úì Validierung</h4>
                        <p><strong>Coach pr√ºft:</strong> "Passen diese Namen? F√ºhlen sie sich stimmig an f√ºr das, was diese Anteile repr√§sentieren?"</p>
                    </div>
                </div>

                <!-- Step 5 Content -->
                <div class="step-content" data-step="5">
                    <div class="instruction-item">
                        <h4>üîç Muster identifizieren</h4>
                        <p><strong>Coach zeigt:</strong> "Ich zeige Ihnen eine √úbersicht von typischen Spannungsmustern. Welches kommt Ihrer Situation am n√§chsten?"</p>
                        <p><strong>Coach f√ºhrt:</strong> "Schauen Sie auf diese Spannungen... Welche spricht Sie an? Wo denken Sie: 'Ja, das bin ich - zwischen diesen Polen'?"</p>
                    </div>
                    
                    <div class="instruction-item">
                        <h4>ü§î Bei Unsicherheit</h4>
                        <p><strong>Coach beruhigt:</strong> "Es k√∂nnen auch mehrere Muster gleichzeitig im Spiel sein. Lassen Sie es auf sich wirken und nehmen Sie das, was sich am stimmigsten anf√ºhlt."</p>
                    </div>
                    
                    <div class="instruction-item">
                        <h4>üìã Einordnung</h4>
                        <p><strong>Coach ordnet ein:</strong> "Ich sehe hier vor allem das Muster [X]. Das bedeutet, Sie schwanken zwischen [Pol A] und [Pol B]. Die gesunde Balance w√§re [L√∂sungsformulierung]."</p>
                    </div>
                </div>

                <!-- Step 6 Content -->
                <div class="step-content" data-step="6">
                    <div class="instruction-item">
                        <h4>üíé Guten Kern der Bremse finden</h4>
                        <p><strong>Coach erkl√§rt:</strong> "Die Bremse ist nicht 'b√∂se' oder 'falsch'. Sie √ºbertreibt nur, weil sie etwas Wichtiges sch√ºtzen will. Was k√∂nnte das sein? Was ist der gute Kern in ihrer Haltung?"</p>
                        <p><strong>Coach vertieft:</strong> "Wenn die Bremse nicht √ºbertreiben w√ºrde - welche wertvolle Eigenschaft steckt dahinter? Vielleicht Sorgfalt, Verantwortung, Qualit√§tsbewusstsein?"</p>
                    </div>
                    
                    <div class="instruction-item">
                        <h4>üíé Guten Kern des Unterst√ºtzers finden</h4>
                        <p><strong>Coach fragt:</strong> "Und der Unterst√ºtzer - was ist das Wertvolle an seiner Haltung, wenn sie nicht √ºbertreibt? Mut, Tatendrang, Vertrauen?"</p>
                    </div>
                    
                    <div class="instruction-item">
                        <h4>üôè W√ºrdigung</h4>
                        <p><strong>Coach w√ºrdigt:</strong> "Sehen Sie - beide Seiten haben Recht! Beide wollen etwas Gutes f√ºr Sie. Der Konflikt entsteht nur, weil sie √ºberziehen und gegeneinander k√§mpfen, statt miteinander zu arbeiten."</p>
                    </div>
                </div>

                <!-- Step 7 Content -->
                <div class="step-content" data-step="7">
                    <div class="instruction-item">
                        <h4>üïäÔ∏è Abr√ºstung einleiten</h4>
                        <p><strong>Coach leitet an:</strong> "Stellen Sie sich vor, beide Anteile legen ihre Waffen nieder. Die Bremse muss nicht mehr so √ºbervorsichtig sein, der Unterst√ºtzer nicht mehr so dr√§ngend. Was w√ºrde dann m√∂glich?"</p>
                    </div>
                    
                    <div class="instruction-item">
                        <h4>üîÑ Neue Haltung entwickeln</h4>
                        <p><strong>Coach fragt:</strong> "Wie k√∂nnte eine Haltung aussehen, die das Beste von beiden vereint? Etwas wie: 'Ich gehe [vorsichtig/mutig] vor und bleibe dabei [achtsam/pragmatisch]'?"</p>
                    </div>
                    
                    <div class="instruction-item">
                        <h4>‚úçÔ∏è Formulierung erarbeiten</h4>
                        <p><strong>Coach unterst√ºtzt:</strong> "Versuchen Sie, eine neue Haltung zu formulieren. Beginnen Sie mit: 'Ich erlaube mir...' oder 'Ich kann sowohl... als auch...'"</p>
                        <p><strong>Coach pr√ºft:</strong> "Lassen Sie es auf sich wirken. F√ºhlt sich das stimmig an? K√∂nnen beide Anteile mit dieser Formulierung leben?"</p>
                    </div>
                </div>

                <!-- Step 8 Content -->
                <div class="step-content" data-step="8">
                    <div class="instruction-item">
                        <h4>üëë Teamchef aktivieren</h4>
                        <p><strong>Coach fordert auf:</strong> "Sprechen Sie als Teamchef zu Ihren beiden Anteilen. Was w√ºrden Sie ihnen sagen? Wie w√ºrden Sie sie f√ºhren?"</p>
                    </div>
                    
                    <div class="instruction-item">
                        <h4>üéØ Lernziel entwickeln</h4>
                        <p><strong>Coach fragt:</strong> "Als Teamchef - was wollen Sie lernen? Vielleicht: 'Ich will lernen, situationsangemessen zu entscheiden' oder 'Ich will beide Bed√ºrfnisse besser ausbalancieren'?"</p>
                    </div>
                    
                    <div class="instruction-item">
                        <h4>üìà Entwicklungsziel formulieren</h4>
                        <p><strong>Coach leitet an:</strong> "Vervollst√§ndigen Sie diesen Satz: 'Ich will lernen...' - und dann beschreiben Sie, was Sie entwickeln m√∂chten."</p>
                        <p><strong>Coach validiert:</strong> "Sp√ºren Sie, wie der Teamchef st√§rker wird? Wie er die F√ºhrung √ºbernimmt, statt sich zwischen den Anteilen zu verlieren?"</p>
                    </div>
                </div>

                <!-- Step 9 Content -->
                <div class="step-content" data-step="9">
                    <div class="instruction-item">
                        <h4>üí™ Ressourcen dokumentieren</h4>
                        <p><strong>Coach fragt:</strong> "Was sind Ihre F√§higkeiten, die Sie f√ºr Ihr Ziel nutzen k√∂nnen? Was haben Sie schon, was Ihnen hilft?"</p>
                    </div>
                    
                    <div class="instruction-item">
                        <h4>üöß Blockaden benennen</h4>
                        <p><strong>Coach erfasst:</strong> "Was hat Sie bisher innerlich gebremst? Schreiben Sie es in einem Satz auf."</p>
                    </div>
                    
                    <div class="instruction-item">
                        <h4>üíé Positive Kerne festhalten</h4>
                        <p><strong>Coach dokumentiert:</strong> "Was ist das Positive an beiden Anteilen? Das, was Sie bewahren wollen?"</p>
                    </div>

                    <div class="instruction-item">
                        <h4>üéØ Neue Strategie formulieren</h4>
                        <p><strong>Coach strukturiert:</strong> "Wie lautet Ihre neue L√∂sungsstrategie? Die Haltung, die Sie entwickelt haben?"</p>
                        <p><em>Nutzen Sie ein Formular oder teilen Sie ein Blatt in vier Bereiche: Ressourcen, Blockaden, Positive Kerne, Neue Strategie.</em></p>
                    </div>
                </div>

                <!-- Step 10 Content -->
                <div class="step-content" data-step="10">
                    <div class="instruction-item">
                        <h4>üë£ Ersten Schritt definieren</h4>
                        <p><strong>Coach fragt:</strong> "Was ist der allererste, kleinste Schritt, den Sie diese Woche machen k√∂nnen? Etwas, was Sie definitiv schaffen und was in Richtung Ihrer neuen Balance geht?"</p>
                    </div>
                    
                    <div class="instruction-item">
                        <h4>üìä Erfolgs-Indikatoren entwickeln</h4>
                        <p><strong>Coach erkundet:</strong> "Woran werden Sie merken, dass sich etwas ver√§ndert hat? Was wird anders sein in Ihrem Alltag, wenn die neue Haltung greift?"</p>
                    </div>
                    
                    <div class="instruction-item">
                        <h4>üöß Hindernisse antizipieren</h4>
                        <p><strong>Coach bereitet vor:</strong> "Was k√∂nnte Sie daran hindern, den ersten Schritt zu machen? Und wie begegnen Sie diesem Hindernis?"</p>
                    </div>

                    <div class="instruction-item">
                        <h4>‚ùì Reflexionsfrage mitgeben</h4>
                        <p><strong>Coach gibt mit:</strong> "Welche Frage k√∂nnten Sie sich in den n√§chsten Wochen regelm√§√üig stellen, um bei der neuen Balance zu bleiben?"</p>
                    </div>
                </div>

                <!-- Step 11 Content -->
                <div class="step-content" data-step="11">
                    <div class="instruction-item">
                        <h4>üîÆ Erfolgsimagination</h4>
                        <p><strong>Coach leitet an:</strong> "Stellen Sie sich vor, es ist in 3 Monaten und Sie haben Ihr Ziel erreicht. Beschreiben Sie mir diesen Tag. Was ist anders? Wie f√ºhlen Sie sich?"</p>
                    </div>
                    
                    <div class="instruction-item">
                        <h4>üé¨ Szenario durchspielen</h4>
                        <p><strong>Coach vertieft:</strong> "Gehen Sie durch einen typischen Tag in dieser Zukunft. Was machen Sie morgens anders? Wie reagieren andere Menschen auf Sie?"</p>
                    </div>
                    
                    <div class="instruction-item">
                        <h4>‚ö° Motivation verankern</h4>
                        <p><strong>Coach aktiviert:</strong> "Welches Gef√ºhl ist am st√§rksten in dieser Vorstellung? K√∂nnen Sie es jetzt schon ein wenig sp√ºren?"</p>
                    </div>
                </div>

                <!-- Step 12 Content -->
                <div class="step-content" data-step="12">
                    <div class="instruction-item">
                        <h4>üìÖ Umsetzungsplan erstellen</h4>
                        <p><strong>Coach plant:</strong> "Lassen Sie uns einen konkreten Plan f√ºr die n√§chsten 4 Wochen machen. Was passiert in Woche 1? Woche 2? Woche 3? Woche 4?"</p>
                    </div>
                    
                    <div class="instruction-item">
                        <h4>ü§ù Unterst√ºtzung organisieren</h4>
                        <p><strong>Coach fragt:</strong> "Wer k√∂nnte Sie dabei unterst√ºtzen? Wem werden Sie von Ihrem Vorhaben erz√§hlen? Wer k√∂nnte Sie daran erinnern, wenn Sie vom Weg abkommen?"</p>
                    </div>
                    
                    <div class="instruction-item">
                        <h4>üîÑ Follow-up vereinbaren</h4>
                        <p><strong>Coach organisiert:</strong> "Wann sprechen wir uns wieder? Was ist ein realistischer Zeitpunkt f√ºr ein Folge-Gespr√§ch? Wie wollen Sie sich bei mir melden?"</p>
                    </div>

                    <div class="instruction-item">
                        <h4>üéØ Abschluss-W√ºrdigung</h4>
                        <p><strong>Coach schlie√üt ab:</strong> "Schauen Sie noch einmal auf das, was wir heute erarbeitet haben. Sie haben zwei wichtige Anteile in sich kennengelernt, ihre guten Kerne gew√ºrdigt und eine neue Balance entwickelt. Das ist ein gro√üer Schritt. Jetzt geht es darum, diese Erkenntnisse ins Leben zu bringen - Schritt f√ºr Schritt, mit der Geduld und Weisheit, die Sie mitbringen."</p>
                    </div>
                </div>
            </div>

            <!-- Right side panels -->
            <div class="right-panels">
                <!-- Chat Panel -->
                <div class="panel">
                    <div class="chat-container">
                        <div class="chat-header">
                            <h3>üí¨ Coaching-Dialog</h3>
                            <div style="font-size: 14px; opacity: 0.9;">Kommunikation mit dem Coachee</div>
                        </div>
                        
                        <div class="chat-messages" id="chatMessages">
                            <div class="message coach">
                                <strong>Coach:</strong> Hallo! Sch√∂n, dass Sie da sind. Lassen Sie uns mit der Zielkl√§rung beginnen.
                            </div>
                        </div>
                        
                        <div class="chat-input-container">
                            <input type="text" class="chat-input" id="chatInput" placeholder="Nachricht an Coachee...">
                            <button class="send-btn" onclick="sendMessage()">Senden</button>
                        </div>
                    </div>
                </div>

                <!-- KI Assistant Panel -->
                <div class="panel">
                    <div class="ki-header">
                        <h3>ü§ñ KI-Assistent</h3>
                        <div style="font-size: 14px; opacity: 0.9;">Schritt-spezifische Unterst√ºtzung</div>
                    </div>
                    
                    <div class="prompt-suggestions">
                        <h4 style="margin-bottom: 10px; color: #4a5568;">Vorschl√§ge f√ºr Schritt 1:</h4>
                        <button class="prompt-btn" onclick="usePrompt(this)">
                            Wie f√ºhre ich eine effektive Skalenarbeit durch?
                        </button>
                        <button class="prompt-btn" onclick="usePrompt(this)">
                            Welche Fragen helfen bei der Zielkl√§rung?
                        </button>
                        <button class="prompt-btn" onclick="usePrompt(this)">
                            Wie erkenne ich, ob das Ziel konkret genug ist?
                        </button>
                        <button class="prompt-btn" onclick="usePrompt(this)">
                            Was mache ich, wenn der Coachee unsicher ist?
                        </button>
                    </div>
                    
                    <div id="kiResponse" class="ki-response" style="display: none;">
                        <strong>KI-Antwort:</strong>
                        <p id="kiResponseText"></p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step Controls -->
        <div class="step-controls">
            <button class="nav-btn prev" onclick="previousStep()" id="prevBtn" disabled>
                ‚Üê Vorheriger Schritt
            </button>
            
            <div style="display: flex; align-items: center; gap: 15px;">
                <span id="stepInfo">Schritt 1 von 12</span>
                <button onclick="saveProgress()" style="background: #ed8936; color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer;">
                    üíæ Speichern
                </button>
            </div>
            
            <button class="nav-btn next" onclick="nextStep()" id="nextBtn">
                N√§chster Schritt ‚Üí
            </button>
        </div>
    </div>

    <script>
        let currentStep = 1;
        const totalSteps = 12;
        
        const stepLabels = [
            'Zielkl√§rung', 'Inneres Team', 'Dialog', 'Antipoden',
            'Grundspannung', 'Positive Kerne', 'Transformation', 'Teamchef',
            'Integration', 'Handlungsplan', 'Erfolgsvision', 'Umsetzung'
        ];

        const stepPrompts = {
            1: [
                'Wie f√ºhre ich eine effektive Skalenarbeit durch?',
                'Welche Fragen helfen bei der Zielkl√§rung?',
                'Wie erkenne ich, ob das Ziel konkret genug ist?',
                'Was mache ich, wenn der Coachee unsicher ist?',
                'Wie formuliere ich Ziele positiv statt negativ?'
            ],
            2: [
                'Wie moderiere ich ein Inneres Team richtig?',
                'Welche Figuren eignen sich f√ºr Aufstellungen?',
                'Wie bringe ich verschiedene Pers√∂nlichkeitsanteile zum Dialog?',
                'Was tue ich bei Widerst√§nden gegen die Aufstellung?',
                'Wie erkenne ich versteckte innere Anteile?'
            ],
            3: [
                'Wie leite ich eine kraftvolle Visualisierung an?',
                'Welche Sinneskan√§le sollte ich aktivieren?',
                'Wie verankere ich positive Bilder nachhaltig?',
                'Was mache ich, wenn keine Bilder kommen?',
                'Wie moderiere ich Dialoge zwischen Anteilen?'
            ],
            4: [
                'Wie benenne ich Anteile pr√§zise und stimmig?',
                'Was mache ich, wenn Namen nicht passen?',
                'Wie validiere ich die Benennungen?',
                'Welche Namen sind besonders kraftvoll?',
                'Wie erkenne ich treffende Bezeichnungen?'
            ],
            5: [
                'Wie erkenne ich die passende Grundspannung?',
                'Was mache ich bei mehreren Spannungsmustern?',
                'Wie ordne ich Spannungen richtig ein?',
                'Welche Spannungen kommen h√§ufig vor?',
                'Wie erkl√§re ich Spannungsmuster verst√§ndlich?'
            ],
            6: [
                'Wie finde ich positive Kerne in negativen Anteilen?',
                'Was ist wertvoll an Widerstand und Bremsen?',
                'Wie w√ºrdige ich beide Seiten einer Spannung?',
                'Welche positiven Eigenschaften verstecken sich?',
                'Wie mache ich Gutes in Problemen sichtbar?'
            ],
            7: [
                'Wie leite ich eine Abr√ºstung zwischen Anteilen ein?',
                'Welche Formulierungen helfen bei Integration?',
                'Wie entwickle ich neue, ausgewogene Haltungen?',
                'Was mache ich bei hartn√§ckigen Konflikten?',
                'Wie teste ich neue Haltungen auf Stimmigkeit?'
            ],
            8: [
                'Wie st√§rke ich die Teamchef-Rolle nachhaltig?',
                'Welche Lernziele sind besonders wirksam?',
                'Wie formuliere ich Entwicklungsziele konkret?',
                'Was macht einen starken inneren Teamchef aus?',
                'Wie validiere ich F√ºhrungsqualit√§ten?'
            ],
            9: [
                'Wie strukturiere ich die schriftliche Dokumentation?',
                'Welche Erkenntnisse sind besonders wichtig?',
                'Wie halte ich Fortschritte messbar fest?',
                'Welche Formate eignen sich f√ºr Protokolle?',
                'Wie mache ich Ver√§nderungen sichtbar?'
            ],
            10: [
                'Wie plane ich realistische erste Schritte?',
                'Welche Erfolgs-Indikatoren sind sinnvoll?',
                'Wie antizipiere ich Hindernisse konstruktiv?',
                'Welche Reflexionsfragen gebe ich mit?',
                'Wie motiviere ich zur Umsetzung?'
            ],
            11: [
                'Wie gestalte ich kraftvolle Erfolgsvisionen?',
                'Welche Details machen Imaginationen lebendig?',
                'Wie verankere ich Motivation emotional?',
                'Was mache ich bei schwachen Vorstellungen?',
                'Wie aktiviere ich alle Sinneskan√§le?'
            ],
            12: [
                'Wie erstelle ich realistische Umsetzungspl√§ne?',
                'Welche Unterst√ºtzung brauchen Coachees?',
                'Wie organisiere ich effektive Follow-ups?',
                'Welche Abschluss-Rituale sind kraftvoll?',
                'Wie w√ºrdige ich den Coaching-Prozess?'
            ]
        };

        // Initialize interface
        function initializeInterface() {
            generateProgressBar();
            updateStepDisplay();
            updatePrompts();
        }

        function generateProgressBar() {
            const progressBar = document.getElementById('progressBar');
            const stepLabelsContainer = document.getElementById('stepLabels');
            
            progressBar.innerHTML = '';
            stepLabelsContainer.innerHTML = '';
            
            for (let i = 1; i <= totalSteps; i++) {
                // Progress indicator
                const indicator = document.createElement('div');
                indicator.className = `step-indicator ${i < currentStep ? 'completed' : i === currentStep ? 'active' : 'upcoming'}`;
                indicator.textContent = i;
                indicator.onclick = () => goToStep(i);
                progressBar.appendChild(indicator);
                
                // Step label
                const label = document.createElement('div');
                label.textContent = stepLabels[i-1];
                stepLabelsContainer.appendChild(label);
            }
        }

        function updateStepDisplay() {
            // Update title
            document.getElementById('currentStepTitle').textContent = 
                `Schritt ${currentStep}: ${stepLabels[currentStep-1]}`;
            
            // Show/hide step content
            document.querySelectorAll('.step-content').forEach(content => {
                content.classList.remove('active');
            });
            
            const activeContent = document.querySelector(`[data-step="${currentStep}"]`);
            if (activeContent) {
                activeContent.classList.add('active');
            }
            
            // Update navigation buttons
            document.getElementById('prevBtn').disabled = currentStep === 1;
            document.getElementById('nextBtn').disabled = currentStep === totalSteps;
            
            // Update step info
            document.getElementById('stepInfo').textContent = `Schritt ${currentStep} von ${totalSteps}`;
            
            // Update progress bar
            generateProgressBar();
        }

        function updatePrompts() {
            const promptsContainer = document.querySelector('.prompt-suggestions');
            const prompts = stepPrompts[currentStep] || ['Allgemeine Coaching-Unterst√ºtzung verf√ºgbar'];
            
            promptsContainer.innerHTML = `
                <h4 style="margin-bottom: 10px; color: #4a5568;">Vorschl√§ge f√ºr Schritt ${currentStep}:</h4>
                ${prompts.map(prompt => 
                    `<button class="prompt-btn" onclick="usePrompt(this)">${prompt}</button>`
                ).join('')}
            `;
        }

        function nextStep() {
            if (currentStep < totalSteps) {
                currentStep++;
                updateStepDisplay();
                updatePrompts();
                saveProgress();
            }
        }

        function previousStep() {
            if (currentStep > 1) {
                currentStep--;
                updateStepDisplay();
                updatePrompts();
                saveProgress();
            }
        }

        function goToStep(step) {
            if (step >= 1 && step <= totalSteps) {
                currentStep = step;
                updateStepDisplay();
                updatePrompts();
                saveProgress();
            }
        }

        function sendMessage() {
            const input = document.getElementById('chatInput');
            const messages = document.getElementById('chatMessages');
            
            if (input.value.trim()) {
                const messageDiv = document.createElement('div');
                messageDiv.className = 'message coach';
                messageDiv.innerHTML = `<strong>Coach:</strong> ${input.value}`;
                messages.appendChild(messageDiv);
                
                input.value = '';
                messages.scrollTop = messages.scrollHeight;
                
                // Simulate coachee response (in real app, this would be actual communication)
                setTimeout(() => {
                    const responseDiv = document.createElement('div');
                    responseDiv.className = 'message coachee';
                    responseDiv.innerHTML = `<strong>Coachee:</strong> Verstehe, das macht Sinn. K√∂nnen wir das nochmal genauer betrachten?`;
                    messages.appendChild(responseDiv);
                    messages.scrollTop = messages.scrollHeight;
                }, 1000);
            }
        }

        function usePrompt(button) {
            const prompt = button.textContent;
            const responseDiv = document.getElementById('kiResponse');
            const responseText = document.getElementById('kiResponseText');
            
            // Show loading
            responseDiv.style.display = 'block';
            responseText.textContent = 'KI denkt nach...';
            
            // Call OpenAI API with step-specific context
            callOpenAI(prompt, currentStep)
                .then(response => {
                    responseText.textContent = response;
                })
                .catch(error => {
                    console.error('OpenAI API Error:', error);
                    responseText.textContent = 'Entschuldigung, die KI ist momentan nicht verf√ºgbar. Bitte versuchen Sie es sp√§ter erneut.';
                });
        }

        // OpenAI API Integration
        async function callOpenAI(userPrompt, step) {
            const stepContexts = {
                1: {
                    role: "Du bist ein erfahrener Solution-Focused Coach. Der Coachee ist gerade in Schritt 1 (Zielkl√§rung & Skalenarbeit). Gib pr√§zise, praktische Antworten f√ºr die Gespr√§chsf√ºhrung.",
                    focus: "Zielformulierung, Skalenarbeit, konkrete und positive Zielstellung"
                },
                2: {
                    role: "Du bist ein Experte f√ºr Innere Team-Arbeit. Der Coachee stellt gerade sein inneres Team auf. Unterst√ºtze bei der Identifikation von Teamchef, Unterst√ºtzer und Bremse.",
                    focus: "Aufstellung, verschiedene Pers√∂nlichkeitsanteile, Figurenarbeit"
                },
                3: {
                    role: "Du bist ein Spezialist f√ºr dialogische Prozessf√ºhrung. Gerade werden Interviews mit den verschiedenen inneren Anteilen gef√ºhrt. Hilf bei der Moderation.",
                    focus: "Dialog zwischen Anteilen, Interview-Techniken, Rollenwechsel"
                },
                4: {
                    role: "Du hilfst bei der pr√§zisen Benennung von inneren Anteilen. Die Gegenspieler sollen treffende Namen bekommen, die ihre Haltung auf den Punkt bringen.",
                    focus: "Namensgebung, Antipoden-Identifikation, stimmige Bezeichnungen"
                },
                5: {
                    role: "Du bist Experte f√ºr Grundspannungen und Muster. Hilf dabei, die passende Grundspannung zu identifizieren und zu erkl√§ren.",
                    focus: "Spannungsmuster, Grundspannungen, Musteridentifikation"
                },
                6: {
                    role: "Du hilfst dabei, positive Kerne in scheinbar negativen Anteilen zu finden. Beide Seiten einer Spannung haben wertvolle Aspekte.",
                    focus: "Positive Kerne, W√ºrdigung beider Seiten, Wertsch√§tzung"
                },
                7: {
                    role: "Du unterst√ºtzt bei der Transformation von Konflikten in produktive Spannungen. Hilf bei der Integration und Abr√ºstung zwischen Anteilen.",
                    focus: "Transformation, Integration, neue ausgewogene Haltungen"
                },
                8: {
                    role: "Du st√§rkst die Teamchef-Rolle und hilfst bei der Formulierung von Lern- und Entwicklungszielen.",
                    focus: "Teamchef-St√§rkung, Lernziele, Entwicklungsziele, F√ºhrung"
                },
                9: {
                    role: "Du hilfst bei der schriftlichen Integration und Dokumentation der Erkenntnisse. Strukturierung ist wichtig f√ºr den Transfer.",
                    focus: "Dokumentation, Integration, schriftliche Verankerung"
                },
                10: {
                    role: "Du unterst√ºtzt bei der konkreten Handlungsplanung und beim Transfer in den Alltag. Realistische erste Schritte sind entscheidend.",
                    focus: "Handlungsplanung, erste Schritte, Transfer, Umsetzung"
                },
                11: {
                    role: "Du hilfst bei der Entwicklung kraftvoller Erfolgsvisionen und Imaginationen. Motivation und emotionale Verankerung stehen im Fokus.",
                    focus: "Erfolgsvision, Imagination, Motivation, emotionale Verankerung"
                },
                12: {
                    role: "Du unterst√ºtzt bei der finalen Umsetzungsplanung und dem Coaching-Abschluss. Follow-up und nachhaltige Ver√§nderung sind wichtig.",
                    focus: "Umsetzungsplanung, Follow-up, Coaching-Abschluss, Nachhaltigkeit"
                }
            };

            const stepContext = stepContexts[step] || stepContexts[1];
            
            try {
                const response = await fetch('/api/openai-chat', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        messages: [
                            {
                                role: "system",
                                content: `${stepContext.role} 
                                
                                Fokus dieses Schritts: ${stepContext.focus}
                                
                                Antworte in deutscher Sprache, pr√§zise und praxisorientiert. Gib konkrete Formulierungsvorschl√§ge und Techniken. Halte die Antwort auf 2-3 Abs√§tze begrenzt.`
                            },
                            {
                                role: "user", 
                                content: userPrompt
                            }
                        ],
                        model: "gpt-4",
                        max_tokens: 500,
                        temperature: 0.7
                    })
                });

                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const data = await response.json();
                return data.choices[0].message.content;
                
            } catch (error) {
                console.error('OpenAI API call failed:', error);
                throw error;
            }
        }

        function saveProgress() {
            // In real app, this would save to database
            console.log(`Progress saved: Step ${currentStep}`);
            
            // Show brief confirmation
            const btn = event?.target;
            if (btn) {
                const originalText = btn.textContent;
                btn.textContent = '‚úÖ Gespeichert';
                btn.style.background = '#48bb78';
                
                setTimeout(() => {
                    btn.textContent = originalText;
                    btn.style.background = '#ed8936';
                }, 2000);
            }
        }

        // Initialize on load
        document.addEventListener('DOMContentLoaded', initializeInterface);
        
        // Auto-save every 30 seconds
        setInterval(saveProgress, 30000);
        
        // Allow Enter key in chat
        document.getElementById('chatInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });
    </script>
</body>
</html>